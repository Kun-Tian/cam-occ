<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cam-occ: src/cam/mrsev-abc.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2-20100208 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>src/cam/mrsev-abc.h</h1><a href="mrsev-abc_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef MRSEV_ABC_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define MRSEV_ABC_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="comment">/*class machineState</span>
<a name="l00006"></a>00006 <span class="comment">** Stores the machine&#39;s state at one moment in time.</span>
<a name="l00007"></a>00007 <span class="comment">** feedrate</span>
<a name="l00008"></a>00008 <span class="comment">** spindle speed</span>
<a name="l00009"></a>00009 <span class="comment">** etc</span>
<a name="l00010"></a>00010 <span class="comment">*/</span>
<a name="l00011"></a><a class="code" href="classmachine_state.html">00011</a> <span class="keyword">class </span><a class="code" href="classmachine_state.html">machineState</a> {
<a name="l00012"></a>00012   <span class="keyword">public</span>:
<a name="l00013"></a><a class="code" href="classmachine_state.html#a82f30c4b7f8aa33d10e73effd82d7d5f">00013</a>     <span class="keywordtype">double</span> <a class="code" href="classmachine_state.html#af46d666331046253241c6e48e1470195">feedrate</a>, <a class="code" href="classmachine_state.html#a82f30c4b7f8aa33d10e73effd82d7d5f">spindleSpeed</a>;
<a name="l00014"></a><a class="code" href="classmachine_state.html#a89a84eb068a5248b7697f8ccf8ebd0cc">00014</a>     gp_Pnt <a class="code" href="classmachine_state.html#a89a84eb068a5248b7697f8ccf8ebd0cc">position</a>;
<a name="l00015"></a>00015 };
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="comment">/*class canonAux</span>
<a name="l00018"></a>00018 <span class="comment">** auxiliary info about the current canon line </span>
<a name="l00019"></a>00019 <span class="comment">** the string (n/a if not using SAI)</span>
<a name="l00020"></a>00020 <span class="comment">** the canon line number</span>
<a name="l00021"></a>00021 <span class="comment">** gcode line number (Nxxxxxxx) or -1 if not present</span>
<a name="l00022"></a>00022 <span class="comment">*/</span>
<a name="l00023"></a><a class="code" href="classcanon_aux.html">00023</a> <span class="keyword">class </span><a class="code" href="classcanon_aux.html">canonAux</a> {
<a name="l00024"></a>00024   <span class="keyword">private</span>:
<a name="l00025"></a>00025     <span class="keywordtype">string</span> str;
<a name="l00026"></a>00026     <span class="keywordtype">int</span> L,N;
<a name="l00027"></a>00027   <span class="keyword">public</span>:
<a name="l00028"></a><a class="code" href="classcanon_aux.html#a6959e16a5a7d49613559de665a6b3624">00028</a>     <a class="code" href="classcanon_aux.html#a6959e16a5a7d49613559de665a6b3624">canonAux</a>(<span class="keywordtype">int</span> l=-1, <span class="keywordtype">int</span> n=-1, <span class="keywordtype">string</span> canonStr = <span class="stringliteral">&quot;&quot;</span>) {L=l;N=n;str=canonStr;};
<a name="l00029"></a><a class="code" href="classcanon_aux.html#af5cb3fa4da2d03cced4b1c3975077eae">00029</a>     <span class="keywordtype">void</span> <a class="code" href="classcanon_aux.html#af5cb3fa4da2d03cced4b1c3975077eae">setString</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> l){canonStr = l;};
<a name="l00030"></a>00030     <span class="comment">//void setCanonLine(const int n){L=n;}; //nth canon command</span>
<a name="l00031"></a>00031     <span class="comment">//void setGcodeLine(const int n){N=n;}; //N-number from the gcode file</span>
<a name="l00032"></a><a class="code" href="classcanon_aux.html#ac93dc2187824b8c55bef5d452f12c778">00032</a>     <span class="keyword">const</span> <span class="keywordtype">string</span> <a class="code" href="classcanon_aux.html#ac93dc2187824b8c55bef5d452f12c778">getString</a>() {<span class="keywordflow">return</span> canonStr;};
<a name="l00033"></a><a class="code" href="classcanon_aux.html#a2ae94fe4b7c564f9efc4e11a6f3cac01">00033</a>     <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classcanon_aux.html#a2ae94fe4b7c564f9efc4e11a6f3cac01">getCanonLine</a>() {<span class="keywordflow">return</span> l;};
<a name="l00034"></a><a class="code" href="classcanon_aux.html#ac62882368ff4af77389d3369fb73a3a9">00034</a>     <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classcanon_aux.html#ac62882368ff4af77389d3369fb73a3a9">getGcodeLine</a>() {<span class="keywordflow">return</span> N;};
<a name="l00035"></a>00035 };
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="comment">/*class mrsev</span>
<a name="l00038"></a>00038 <span class="comment">** Abstract base class for MRSEVs, Material Removal Shape Element Volumes.</span>
<a name="l00039"></a>00039 <span class="comment">** Name taken from an NIST paper. Do not expect this to implement all MRSEVs</span>
<a name="l00040"></a>00040 <span class="comment">** defined in that paper, and the implementation won&#39;t necessarily be analogous</span>
<a name="l00041"></a>00041 <span class="comment">** to the NIST concept of MRSEVs.</span>
<a name="l00042"></a>00042 <span class="comment">** At this time, the only MRSEVs implemented are for three canonical commands: </span>
<a name="l00043"></a>00043 <span class="comment">** straight lines (STRAIGHT_FEED, STRAIGHT_TRAVERSE) and arcs and helices </span>
<a name="l00044"></a>00044 <span class="comment">** (both from ARC_FEED) whose axis is parallel to X, Y, or Z</span>
<a name="l00045"></a>00045 <span class="comment">** certain arcs and helices may not be implemented for certain tool shapes.</span>
<a name="l00046"></a>00046 <span class="comment">*/</span>
<a name="l00047"></a><a class="code" href="classmrsev.html">00047</a> <span class="keyword">class </span><a class="code" href="classmrsev.html">mrsev</a> {
<a name="l00048"></a>00048   <span class="keyword">public</span>:
<a name="l00049"></a>00049     <a class="code" href="classmrsev.html#ae481780f928f484566c877b94c176f96">mrsev</a>();
<a name="l00050"></a>00050     <a class="code" href="classmrsev.html#ae481780f928f484566c877b94c176f96">mrsev</a>(gp_Pnt end, <span class="keywordtype">string</span> str, <a class="code" href="classmachine_state.html">machineState</a> &amp;state) = 0;
<a name="l00051"></a>00051     <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classmrsev.html#ae5fe33b960de9739dad350e5c47d14c9">computeEdge</a>() = 0; <span class="comment">//returns true on success</span>
<a name="l00052"></a><a class="code" href="classmrsev.html#af9a2ff93ed903dd81c82de4b160cd38f">00052</a>     <span class="keyword">const</span> <a class="code" href="classmachine_state.html">machineState</a> <a class="code" href="classmrsev.html#af9a2ff93ed903dd81c82de4b160cd38f">getState</a>() {<span class="keywordflow">return</span> <a class="code" href="classmrsev.html#a57c63accc844cf98a5e760c98106ada8">myState</a>;};
<a name="l00053"></a>00053     <span class="comment">//NOTE all public functions below depend on the bool goodEdge == true</span>
<a name="l00054"></a>00054     <span class="comment">//NOTE (which is set by computeEdge)</span>
<a name="l00055"></a>00055     <span class="keyword">const</span> TopoDS_Edge <a class="code" href="classmrsev.html#a46a980f97d62482175a271154d8954c9">getEdge</a>(); <span class="comment">//returns the computed edge</span>
<a name="l00056"></a>00056     <span class="keyword">const</span> gp_Pnt <a class="code" href="classmrsev.html#a924b67b653c596d8ccb860e93f776f69">getStart</a>(); <span class="comment">//start point of the edge</span>
<a name="l00057"></a>00057     <span class="keyword">const</span> gp_Pnt <a class="code" href="classmrsev.html#a0de0768d6b4559b7d2cd92a94804fa85">getEnd</a>(); <span class="comment">//end point of the edge</span>
<a name="l00058"></a>00058     <span class="keyword">const</span> gp_Vec <a class="code" href="classmrsev.html#aa16f060d3094db93a408a9ba235bfac7">getStartVec</a>(); <span class="comment">//vector at start</span>
<a name="l00059"></a>00059     <span class="keyword">const</span> gp_Vec <a class="code" href="classmrsev.html#a78969235f4e73fb12b784ec2e5acf799">getEndVec</a>(); <span class="comment">//vector at end</span>
<a name="l00060"></a>00060     <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classmrsev.html#a3fcf5e5b44a9e3ec6dcca6ffc6b8c474">computeSolid</a>() = 0; <span class="comment">//computes the solid WITHOUT the &quot;endcaps&quot;, returns true for success</span>
<a name="l00061"></a>00061     <span class="comment">//NOTE all public functions below depend on the bool goodSolid == true</span>
<a name="l00062"></a>00062     <span class="comment">//NOTE (which is set by computeSolid) AND goodEdge == true</span>
<a name="l00063"></a>00063     <span class="keyword">const</span> TopoDS_Shape <a class="code" href="classmrsev.html#afe1c9087c52525b24ca4ae2f1b71cc3a">getSolid</a>(); <span class="comment">//returns the 3d solid</span>
<a name="l00064"></a>00064     <span class="comment">//more functions that depend on goodSolid &amp; goodEdge?</span>
<a name="l00065"></a>00065   <span class="keyword">protected</span>:
<a name="l00066"></a><a class="code" href="classmrsev.html#af894109e347a099fa403238a5a97660f">00066</a>     <a class="code" href="class_a_p_ttool.html">APTtool</a> <a class="code" href="classmrsev.html#af894109e347a099fa403238a5a97660f">myTool</a>;
<a name="l00067"></a><a class="code" href="classmrsev.html#a57c63accc844cf98a5e760c98106ada8">00067</a>     <a class="code" href="classmachine_state.html">machineState</a> <a class="code" href="classmrsev.html#a57c63accc844cf98a5e760c98106ada8">myState</a>;
<a name="l00068"></a><a class="code" href="classmrsev.html#a1b97451fa67343d0368a23103703717e">00068</a>     <a class="code" href="classcanon_aux.html">canonAux</a> <a class="code" href="classmrsev.html#a1b97451fa67343d0368a23103703717e">aux</a>;
<a name="l00069"></a><a class="code" href="classmrsev.html#ae0c7a9b85adf1d735b90733d8db62844">00069</a>     <span class="keywordtype">bool</span> <a class="code" href="classmrsev.html#af5dc8a145c7b005adf0fab5e776d6fdc">goodEdge</a>,<a class="code" href="classmrsev.html#ae0c7a9b85adf1d735b90733d8db62844">goodSolid</a>;
<a name="l00070"></a><a class="code" href="classmrsev.html#af580839274948036c094cb6e1623108e">00070</a>     gp_Pnt <a class="code" href="classmrsev.html#af580839274948036c094cb6e1623108e">myStart</a>,<a class="code" href="classmrsev.html#ab3b4ff37a51e3d596829f7626aa4e815">myEnd</a>;
<a name="l00071"></a><a class="code" href="classmrsev.html#a576bdf61f3577869dfcfd13c63c49d56">00071</a>     gp_Vec <a class="code" href="classmrsev.html#a576bdf61f3577869dfcfd13c63c49d56">myStartV</a>,<a class="code" href="classmrsev.html#a78133cbc8d718a9b3a01e3b9478bed3b">myEndV</a>;
<a name="l00072"></a><a class="code" href="classmrsev.html#a02f7b8b1acaedf8c7c05bbe85a78f943">00072</a>     TopoDS_Edge <a class="code" href="classmrsev.html#a02f7b8b1acaedf8c7c05bbe85a78f943">myEdge</a>;
<a name="l00073"></a><a class="code" href="classmrsev.html#a697f837a3ebd699f99e776b6d9541d6e">00073</a>     TopoDS_Solid <a class="code" href="classmrsev.html#a697f837a3ebd699f99e776b6d9541d6e">mySolid</a>;
<a name="l00074"></a><a class="code" href="classmrsev.html#afa3702d48a8810d81ed5d605b1143efaa2607709d5e7c83774d21533a81760dce">00074</a>     <span class="keyword">typedef</span> <span class="keyword">enum</span> { <a class="code" href="classmrsev.html#afa3702d48a8810d81ed5d605b1143efaa2607709d5e7c83774d21533a81760dce">TRAVERSE</a>, <a class="code" href="classmrsev.html#afa3702d48a8810d81ed5d605b1143efaaacc7b9896b7fb9c17598b34e06faacb5">FEED</a>, <a class="code" href="classmrsev.html#afa3702d48a8810d81ed5d605b1143efaa3d5f4f7d6eea2181c12114cd0f1b30d3">NOM</a> } <a class="code" href="canon_motion_8hh.html#abd6d177d63e98aa1b4ed4b8329e2a379">MOTION_TYPE</a>;
<a name="l00075"></a><a class="code" href="classmrsev.html#a3c3b807c088cb7e3095cbd69510cd2f3">00075</a>     <span class="keyword">typedef</span> <span class="keyword">enum</span> { <a class="code" href="classmrsev.html#a3c3b807c088cb7e3095cbd69510cd2f3afd0ffa5f4cae0ae6c6173c9288291a89">ARC</a>, <a class="code" href="classmrsev.html#a3c3b807c088cb7e3095cbd69510cd2f3a0823af5eee566bdfc931fffc57bb6721">HELIX</a>, <a class="code" href="classmrsev.html#a3c3b807c088cb7e3095cbd69510cd2f3a0e3f3254586395179c81c87f6afb672f">LINE</a>, <a class="code" href="classmrsev.html#a3c3b807c088cb7e3095cbd69510cd2f3ad4900f03a75e06dbcd46abf1547e41e9">NOS</a> } <a class="code" href="tool_8hh.html#a733713fb5a6f60fae1f1fe872b3e391b">SHAPE_TYPE</a>;
<a name="l00076"></a>00076 };
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="preprocessor">#endif //MRSEV_ABC_H</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2-20100208 </small></address>
</body>
</html>
